<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CAPE Applied Mathematics Unit 2 - Kinematics & Dynamics</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-brand">
            <i class="fas fa-calculator"></i>
            <span>CAPE Applied Math Unit 2</span>
        </div>
        <ul class="nav-links">
            <li><a href="#home" class="active">Home</a></li>
            <li><a href="#topics">Topics</a></li>
            <li><a href="#animations">Animations</a></li>
            <li><a href="#practice">Practice</a></li>
            <li><a href="#ai-tutor">AI Tutor</a></li>
        </ul>
        <button class="mobile-menu-btn"><i class="fas fa-bars"></i></button>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1>Kinematics & Dynamics</h1>
            <p>Master Module 3 of CAPE Applied Mathematics Unit 2 with interactive animations, guided problems, and AI-powered tutoring.</p>
            <div class="hero-buttons">
                <a href="#topics" class="btn btn-primary">Start Learning</a>
                <a href="#ai-tutor" class="btn btn-secondary">Ask AI Tutor</a>
            </div>
        </div>
        <div class="hero-animation">
            <canvas id="heroCanvas"></canvas>
        </div>
    </section>

    <!-- Topics Section -->
    <section id="topics" class="topics-section">
        <h2>Syllabus Topics</h2>
        <div class="topics-grid">
            <div class="topic-card" data-topic="kinematics">
                <div class="topic-icon"><i class="fas fa-route"></i></div>
                <h3>2.1 Kinematics Basics</h3>
                <p>Distance vs Displacement, Speed vs Velocity</p>
                <button class="btn btn-small" onclick="openTopic('kinematics')">Learn More</button>
            </div>
            <div class="topic-card" data-topic="graphs">
                <div class="topic-icon"><i class="fas fa-chart-line"></i></div>
                <h3>2.2 Motion Graphs</h3>
                <p>Displacement-time & Velocity-time graphs</p>
                <button class="btn btn-small" onclick="openTopic('graphs')">Learn More</button>
            </div>
            <div class="topic-card" data-topic="equations">
                <div class="topic-icon"><i class="fas fa-square-root-alt"></i></div>
                <h3>2.3 Kinematic Quantities</h3>
                <p>SUVAT equations and applications</p>
                <button class="btn btn-small" onclick="openTopic('equations')">Learn More</button>
            </div>
            <div class="topic-card" data-topic="newton">
                <div class="topic-icon"><i class="fas fa-apple-alt"></i></div>
                <h3>2.4 Newton's Laws</h3>
                <p>Forces, inclined planes, connected particles</p>
                <button class="btn btn-small" onclick="openTopic('newton')">Learn More</button>
            </div>
            <div class="topic-card" data-topic="calculus">
                <div class="topic-icon"><i class="fas fa-infinity"></i></div>
                <h3>2.5-2.6 Calculus of Motion</h3>
                <p>Differential equations and rates of change</p>
                <button class="btn btn-small" onclick="openTopic('calculus')">Learn More</button>
            </div>
            <div class="topic-card" data-topic="momentum">
                <div class="topic-icon"><i class="fas fa-car-crash"></i></div>
                <h3>2.7 Momentum & Impulse</h3>
                <p>Conservation of momentum, collisions</p>
                <button class="btn btn-small" onclick="openTopic('momentum')">Learn More</button>
            </div>
        </div>
    </section>

    <!-- Topic Content Modal -->
    <div id="topicModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <div id="topicContent"></div>
        </div>
    </div>

    <!-- Interactive Animations Section -->
    <section id="animations" class="animations-section">
        <h2>Interactive Animations</h2>
        <div class="animation-tabs">
            <button class="tab-btn active" data-tab="displacement">Displacement-Time</button>
            <button class="tab-btn" data-tab="velocity">Velocity-Time</button>
            <button class="tab-btn" data-tab="graphlab">Graph Relationships</button>
            <button class="tab-btn" data-tab="projectile">Projectile Motion</button>
            <button class="tab-btn" data-tab="collision">Collisions</button>
        </div>

        <!-- Displacement-Time Animation -->
        <div id="displacement-tab" class="tab-content active">
            <div class="animation-container">
                <div class="animation-controls">
                    <h3>Displacement-Time Graph Simulator</h3>
                    <div class="scenario-bar">
                        <div class="scenario-left">
                            <label for="st-scenario"><strong>Scenario:</strong></label>
                            <select id="st-scenario">
                                <option value="city-bus">City Bus (pulling away)</option>
                                <option value="scooter">Scooter Cruise</option>
                                <option value="sprinter">Sprinter Burst</option>
                                <option value="taxi-brake">Taxi Braking</option>
                                <option value="ferry-dock">Ferry Docking</option>
                            </select>
                        </div>
                        <div class="scenario-right">
                            <button id="st-random" class="btn btn-secondary btn-sm"><i class="fas fa-dice"></i> Random Challenge</button>
                            <button id="st-toggle-hints" class="btn btn-tertiary btn-sm"><i class="fas fa-lightbulb"></i> Hints</button>
                        </div>
                    </div>
                    <div id="st-story" class="story-box">
                        Pick a scenario, then scrub the cursor. Watch the <em>slope</em> change — that’s the speed at that instant.
                    </div>

                    
<div class="missions-panel" id="st-missions">
  <div class="missions-header">
    <h4><i class="fas fa-flag-checkered"></i> Missions</h4>
    <div class="missions-meta"><span id="st-missions-label">3 missions</span> • <span id="st-missions-progress">0/3</span></div>
  </div>
  <div id="st-mission-list" class="mission-list"></div>
</div>

<div class="question-panel" id="st-questions">
  <div class="questions-header">
    <h4><i class="fas fa-pen"></i> Try These (Exam Style)</h4>
    <button id="st-show-answers" class="btn btn-tertiary btn-sm"><i class="fas fa-eye"></i> Show Answers</button>
  </div>
  <ol id="st-question-list" class="question-list"></ol>
  <div id="st-answers" class="answer-box collapsed"></div>
</div>

<div class="micro-panel" id="st-micro">
                        <div class="micro-row">
                            <div class="micro-chip">Do this</div>
                            <div class="micro-text">
                                Place the cursor at time <strong>t</strong> and draw the <strong>tangent</strong>.
                            </div>
                        </div>
                        <div class="micro-row">
                            <div class="micro-chip">See this</div>
                            <div class="micro-text">
                                The <strong>slope</strong> of that tangent is <strong>v(t)</strong> (instantaneous velocity).
                            </div>
                        </div>
                        <div class="micro-row">
                            <div class="micro-chip">Try</div>
                            <div class="micro-text">
                                Find a time where the slope is <strong>0</strong>. What is the object doing right then?
                            </div>
                        </div>
                    </div>

                    <div class="control-group">
                        <label>Initial Position (m): <span id="s0-val">0</span></label>
                        <input type="range" id="s0-slider" min="-10" max="10" value="0" step="1">
                    </div>
                    <div class="control-group">
                        <label>Initial Velocity (m/s): <span id="u-val">5</span></label>
                        <input type="range" id="u-slider" min="-10" max="10" value="5" step="0.5">
                    </div>
                    <div class="control-group">
                        <label>Acceleration (m/s²): <span id="a-val">0</span></label>
                        <input type="range" id="a-slider" min="-5" max="5" value="0" step="0.5">
                    </div>
                    <div class="button-group">
                        <button id="play-st" class="btn btn-primary"><i class="fas fa-play"></i> Play</button>
                        <button id="reset-st" class="btn btn-secondary"><i class="fas fa-redo"></i> Reset</button>
                    </div>
                    <div class="equation-display">
                        <p>Equation: <span id="st-equation">s = 0 + 5t + 0t²</span></p>
                    </div>

                    <div class="control-group">
                        <label>Time cursor t: <span id="st-t-val">0.0</span> s</label>
                        <input type="range" id="st-cursor" min="0" max="10" value="0" step="0.1">
                    </div>

                    <div class="info-box">
                        <p><strong>Tangent (slope) = instantaneous velocity</strong></p>
                        <p>At t: s(t)= <span id="st-s-val">0.00</span> m &nbsp; | &nbsp; v(t)= <span id="st-vinst-val">0.00</span> m/s</p>
                    </div>

                </div>
                <div class="animation-visual">
                    <div class="motion-track">
                        <div id="moving-object" class="moving-object">
                            <i class="fas fa-car"></i>
                        </div>
                        <div class="track-markers"></div>
                    </div>
                    <canvas id="stChart" width="500" height="300"></canvas>
                </div>
            </div>
        </div>

        <!-- Velocity-Time Animation -->
        <div id="velocity-tab" class="tab-content">
            <div class="animation-container">
                <div class="animation-controls">
                    <h3>Velocity-Time Graph Simulator</h3>
                    <div class="scenario-bar">
                        <div class="scenario-left">
                            <label for="vt-scenario"><strong>Scenario:</strong></label>
                            <select id="vt-scenario">
                                <option value="bike-hill">Bike Down a Hill</option>
                                <option value="rollercoaster">Rollercoaster Dip</option>
                                <option value="boat-throttle">Speedboat Throttle</option>
                                <option value="airport-runway">Runway Takeoff</option>
                                <option value="traffic-light">Traffic Light Start</option>
                            </select>
                        </div>
                        <div class="scenario-right">
                            <button id="vt-random" class="btn btn-secondary btn-sm"><i class="fas fa-dice"></i> Random Challenge</button>
                            <button id="vt-toggle-hints" class="btn btn-tertiary btn-sm"><i class="fas fa-lightbulb"></i> Hints</button>
                        </div>
                    </div>
                    <div id="vt-story" class="story-box">
                        Scrub the cursor. Watch the <em>area</em> fill up — that total area is displacement.
                    </div>

                    
<div class="missions-panel" id="vt-missions">
  <div class="missions-header">
    <h4><i class="fas fa-flag-checkered"></i> Missions</h4>
    <div class="missions-meta"><span id="vt-missions-label">3 missions</span> • <span id="vt-missions-progress">0/3</span></div>
  </div>
  <div id="vt-mission-list" class="mission-list"></div>
</div>

<div class="question-panel" id="vt-questions">
  <div class="questions-header">
    <h4><i class="fas fa-pen"></i> Try These (Exam Style)</h4>
    <button id="vt-show-answers" class="btn btn-tertiary btn-sm"><i class="fas fa-eye"></i> Show Answers</button>
  </div>
  <ol id="vt-question-list" class="question-list"></ol>
  <div id="vt-answers" class="answer-box collapsed"></div>
</div>

<div class="micro-panel" id="vt-micro">
                        <div class="micro-row">
                            <div class="micro-chip">Slope</div>
                            <div class="micro-text">
                                The slope of the v–t graph at time <strong>t</strong> is <strong>a(t)</strong> (acceleration).
                            </div>
                        </div>
                        <div class="micro-row">
                            <div class="micro-chip">Area</div>
                            <div class="micro-text">
                                The shaded area from <strong>0 → t</strong> is <strong>displacement</strong> (how far you moved).
                            </div>
                        </div>
                        <div class="micro-row">
                            <div class="micro-chip">Try</div>
                            <div class="micro-text">
                                Can you make the shaded area go <strong>negative</strong>? What does that mean physically?
                            </div>
                        </div>
                    </div>

                    <div class="control-group">
                        <label>Initial Velocity (m/s): <span id="v0-val">0</span></label>
                        <input type="range" id="v0-slider" min="-10" max="10" value="0" step="1">
                    </div>
                    <div class="control-group">
                        <label>Acceleration (m/s²): <span id="acc-val">2</span></label>
                        <input type="range" id="acc-slider" min="-5" max="5" value="2" step="0.5">
                    </div>
                    <div class="control-group">
                        <label>Duration (s): <span id="dur-val">10</span></label>
                        <input type="range" id="dur-slider" min="5" max="20" value="10" step="1">
                    </div>
                    
                    <div class="control-group">
                        <label>Time cursor t: <span id="vt-t-val">0.0</span> s</label>
                        <input type="range" id="vt-cursor" min="0" max="10" value="0" step="0.1">
                    </div>

                    <div class="info-box">
                        <p><strong>Slope of v–t = acceleration</strong></p>
                        <p>At t: v(t)= <span id="vt-v-val">0.00</span> m/s &nbsp; | &nbsp; a(t)= <span id="vt-a-val">0.00</span> m/s²</p>
                        <p><strong>Area under v–t (0→t) = displacement</strong></p>
                        <p>Shaded area: <span id="vt-area-val">0.00</span> m</p>
                    </div>
                    <div class="button-group">
                        <button id="play-vt" class="btn btn-primary"><i class="fas fa-play"></i> Play</button>
                        <button id="reset-vt" class="btn btn-secondary"><i class="fas fa-redo"></i> Reset</button>
                    </div>
                    <div class="info-box">
                        <p><strong>Animation running displacement</strong></p>
                        <p>Current displacement: <span id="vt-displacement">0</span> m</p>
                    </div>
                </div>
                <div class="animation-visual">
                    <canvas id="vtChart" width="500" height="350"></canvas>
                </div>
            </div>
        </div>

        
        <!-- Graph Relationships Lab -->
        <div id="graphlab-tab" class="tab-content">
            <div class="animation-container graphlab-container">
                <div class="animation-controls">
                    <h3>Graph Relationships Lab</h3>
                    <p style="margin-bottom:1rem; color: var(--text-light);">
                        Move the time cursor and watch how <strong>s–t → v–t → a–t</strong> connect:
                        <em>slope</em> gives the next graph, and <em>area</em> gives the previous.
                    </p>

                    <div class="control-group">
                        <label for="gl-model">Motion preset</label>
                        <select id="gl-model">
                            <option value="constant_v">Constant velocity</option>
                            <option value="constant_a" selected>Constant acceleration</option>
                            <option value="piecewise_a">Piecewise acceleration (0 → +a → −a)</option>
                            <option value="sine_a">Sinusoidal acceleration</option>
                        </select>
                    </div>

                    <div class="control-group">
                        <label>Duration: <span id="gl-T-val">10</span> s</label>
                        <input type="range" id="gl-T" min="4" max="20" value="10" step="1">
                    </div>

                    <div class="control-group">
                        <label>Initial displacement s₀: <span id="gl-s0-val">0</span> m</label>
                        <input type="range" id="gl-s0" min="-20" max="20" value="0" step="1">
                    </div>

                    <div class="control-group">
                        <label>Initial velocity v₀: <span id="gl-v0-val">5</span> m/s</label>
                        <input type="range" id="gl-v0" min="-20" max="20" value="5" step="1">
                    </div>

                    <div class="control-group">
                        <label>Base acceleration a: <span id="gl-a0-val">2</span> m/s²</label>
                        <input type="range" id="gl-a0" min="-10" max="10" value="2" step="0.5">
                    </div>

                    <div class="control-group">
                        <label>Time cursor t: <span id="gl-t-val">0.0</span> s</label>
                        <input type="range" id="gl-cursor" min="0" max="10" value="0" step="0.1">
                    </div>

                    <div class="info-box" style="margin-top:1rem;">
                        <strong>At the cursor</strong>
                        <div style="display:grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; margin-top:0.75rem;">
                            <div>Displacement s(t): <strong><span id="gl-s">0.00</span> m</strong></div>
                            <div>Velocity v(t): <strong><span id="gl-v">0.00</span> m/s</strong></div>
                            <div>Acceleration a(t): <strong><span id="gl-a">0.00</span> m/s²</strong></div>
                            <div>Area under v–t (0→t): <strong><span id="gl-area-v">0.00</span> m</strong></div>
                            <div>Area under a–t (0→t): <strong><span id="gl-area-a">0.00</span> m/s</strong></div>
                            <div>Slope of s–t at t: <strong><span id="gl-slope-s">0.00</span> m/s</strong></div>
                        </div>
                        <p style="margin-top:0.75rem; color: var(--text-light); font-size:0.95rem;">
                            Tip: the <strong>slope</strong> of the displacement–time curve at a point is the instantaneous velocity.
                            The <strong>area</strong> under the velocity–time curve from 0 to t is the displacement.
                        </p>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-primary" id="gl-play"><i class="fas fa-play"></i> Animate Cursor</button>
                        <button class="btn btn-secondary" id="gl-reset"><i class="fas fa-undo"></i> Reset</button>
                    </div>
                </div>

                <div class="animation-visual">
                    <div class="graphlab-grid">
                        <div class="graph-card">
                            <h4>Displacement–Time (s–t)</h4>
                            <div class="graph-wrap"><canvas id="glST"></canvas></div>
                        </div>
                        <div class="graph-card">
                            <h4>Velocity–Time (v–t)</h4>
                            <div class="graph-wrap"><canvas id="glVT"></canvas></div>
                        </div>
                        <div class="graph-card">
                            <h4>Acceleration–Time (a–t)</h4>
                            <div class="graph-wrap"><canvas id="glAT"></canvas></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


<!-- Projectile Motion Animation -->
        <div id="projectile-tab" class="tab-content">
            <div class="animation-container">
                <div class="animation-controls">
                    <h3>Projectile Motion Simulator</h3>
                    <div class="control-group">
                        <label>Initial Speed (m/s): <span id="proj-v-val">50</span></label>
                        <input type="range" id="proj-v-slider" min="10" max="100" value="50" step="5">
                    </div>
                    <div class="control-group">
                        <label>Launch Angle (°): <span id="proj-angle-val">45</span></label>
                        <input type="range" id="proj-angle-slider" min="5" max="85" value="45" step="5">
                    </div>
                    <div class="button-group">
                        <button id="play-proj" class="btn btn-primary"><i class="fas fa-play"></i> Launch</button>
                        <button id="reset-proj" class="btn btn-secondary"><i class="fas fa-redo"></i> Reset</button>
                    </div>
                    <div class="info-box">
                        <p>Max Height: <span id="max-height">0</span> m</p>
                        <p>Range: <span id="range">0</span> m</p>
                        <p>Time of Flight: <span id="flight-time">0</span> s</p>
                    </div>
                </div>
                <div class="animation-visual">
                    <canvas id="projCanvas" width="600" height="400"></canvas>
                </div>
            </div>
        </div>

        <!-- Collision Animation -->
        <div id="collision-tab" class="tab-content">
            <div class="animation-container">
                <div class="animation-controls">
                    <h3>Collision Simulator</h3>
                    <div class="control-group">
                        <label>Mass 1 (kg): <span id="m1-val">5</span></label>
                        <input type="range" id="m1-slider" min="1" max="10" value="5" step="1">
                    </div>
                    <div class="control-group">
                        <label>Velocity 1 (m/s): <span id="v1-val">10</span></label>
                        <input type="range" id="v1-slider" min="-15" max="15" value="10" step="1">
                    </div>
                    <div class="control-group">
                        <label>Mass 2 (kg): <span id="m2-val">3</span></label>
                        <input type="range" id="m2-slider" min="1" max="10" value="3" step="1">
                    </div>
                    <div class="control-group">
                        <label>Velocity 2 (m/s): <span id="v2-val">-5</span></label>
                        <input type="range" id="v2-slider" min="-15" max="15" value="-5" step="1">
                    </div>
                    <div class="control-group">
                        <label>Collision Type:</label>
                        <select id="collision-type">
                            <option value="inelastic">Perfectly Inelastic</option>
                            <option value="elastic">Elastic</option>
                        </select>
                    </div>
                    <div class="button-group">
                        <button id="play-collision" class="btn btn-primary"><i class="fas fa-play"></i> Collide</button>
                        <button id="reset-collision" class="btn btn-secondary"><i class="fas fa-redo"></i> Reset</button>
                    </div>
                    <div class="info-box">
                        <p>Initial Momentum: <span id="init-momentum">0</span> kg·m/s</p>
                        <p>Final Momentum: <span id="final-momentum">0</span> kg·m/s</p>
                        <p>Final Velocity: <span id="final-velocity">0</span> m/s</p>
                    </div>
                </div>
                <div class="animation-visual">
                    <canvas id="collisionCanvas" width="600" height="300"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- Practice Problems Section -->
    <section id="practice" class="practice-section">
        <h2>Guided Practice Problems</h2>
        <div class="practice-tabs">
            <button class="practice-tab-btn active" data-level="guided">Guided Problems</button>
            <button class="practice-tab-btn" data-level="independent">Independent Practice</button>
            <button class="practice-tab-btn" data-level="exam">Exam Style</button>
        </div>

        <!-- Guided Problems -->
        <div id="guided-problems" class="practice-content active">
            <div class="problem-card">
                <div class="problem-header">
                    <span class="problem-number">Problem 1</span>
                    <span class="problem-topic">Kinematics - SUVAT</span>
                </div>
                <div class="problem-body">
                    <p class="problem-text">A van skids to a halt from an initial speed of 24 m/s, covering a distance of 36 m. Find the acceleration of the van (assumed constant) and the time it takes to stop.</p>
                    
                    <div class="guided-steps">
                        <div class="step" data-step="1">
                            <button class="step-toggle">Step 1: Identify the known values <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p>Let's list what we know:</p>
                                <ul>
                                    <li>Initial velocity, \(u = 24\) m/s</li>
                                    <li>Final velocity, \(v = 0\) m/s (comes to rest)</li>
                                    <li>Displacement, \(s = 36\) m</li>
                                </ul>
                                <p>We need to find: acceleration \(a\) and time \(t\)</p>
                            </div>
                        </div>
                        <div class="step" data-step="2">
                            <button class="step-toggle">Step 2: Choose the right equation <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p>For finding acceleration without time, use:</p>
                                <p class="equation">\(v^2 = u^2 + 2as\)</p>
                                <p>This equation contains \(v\), \(u\), \(a\), and \(s\) - all known except \(a\).</p>
                            </div>
                        </div>
                        <div class="step" data-step="3">
                            <button class="step-toggle">Step 3: Calculate acceleration <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p>Substituting values:</p>
                                <p class="equation">\(0^2 = 24^2 + 2 \times a \times 36\)</p>
                                <p class="equation">\(0 = 576 + 72a\)</p>
                                <p class="equation">\(a = -\frac{576}{72} = -8\) m/s²</p>
                                <p>The negative sign indicates deceleration.</p>
                            </div>
                        </div>
                        <div class="step" data-step="4">
                            <button class="step-toggle">Step 4: Calculate time <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p>Using \(v = u + at\):</p>
                                <p class="equation">\(0 = 24 + (-8)t\)</p>
                                <p class="equation">\(t = \frac{24}{8} = 3\) seconds</p>
                            </div>
                        </div>
                        <div class="step final-answer">
                            <button class="step-toggle">Final Answer <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p><strong>Acceleration = -8 m/s² (or 8 m/s² deceleration)</strong></p>
                                <p><strong>Time = 3 seconds</strong></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="problem-card">
                <div class="problem-header">
                    <span class="problem-number">Problem 2</span>
                    <span class="problem-topic">Newton's Laws - Inclined Plane</span>
                </div>
                <div class="problem-body">
                    <p class="problem-text">A railway carriage of mass 700 kg ascends a smooth plane inclined at 18° to the horizontal for 30 m. The speed at the start is 18 m/s and at the finish is 10 m/s. Calculate the deceleration and the tractive force.</p>
                    
                    <div class="guided-steps">
                        <div class="step" data-step="1">
                            <button class="step-toggle">Step 1: Identify known values <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <ul>
                                    <li>Mass, \(m = 700\) kg</li>
                                    <li>Angle, \(\theta = 18°\)</li>
                                    <li>Distance, \(s = 30\) m</li>
                                    <li>Initial velocity, \(u = 18\) m/s</li>
                                    <li>Final velocity, \(v = 10\) m/s</li>
                                    <li>\(g = 10\) m/s²</li>
                                </ul>
                            </div>
                        </div>
                        <div class="step" data-step="2">
                            <button class="step-toggle">Step 2: Calculate deceleration <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p>Using \(v^2 = u^2 + 2as\):</p>
                                <p class="equation">\(10^2 = 18^2 + 2 \times a \times 30\)</p>
                                <p class="equation">\(100 = 324 + 60a\)</p>
                                <p class="equation">\(a = \frac{100 - 324}{60} = -3.73\) m/s²</p>
                            </div>
                        </div>
                        <div class="step" data-step="3">
                            <button class="step-toggle">Step 3: Draw force diagram <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p>Forces acting on the carriage along the plane:</p>
                                <ul>
                                    <li>Tractive force \(F\) (up the plane)</li>
                                    <li>Component of weight down the plane: \(mg\sin\theta\)</li>
                                </ul>
                                <p>Since the plane is smooth, there's no friction.</p>
                            </div>
                        </div>
                        <div class="step" data-step="4">
                            <button class="step-toggle">Step 4: Apply Newton's Second Law <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p>Taking up the plane as positive:</p>
                                <p class="equation">\(F - mg\sin\theta = ma\)</p>
                                <p class="equation">\(F = m(a + g\sin\theta)\)</p>
                                <p class="equation">\(F = 700(-3.73 + 10\sin18°)\)</p>
                                <p class="equation">\(F = 700(-3.73 + 3.09)\)</p>
                                <p class="equation">\(F = 700 \times (-0.64) = -448\) N</p>
                                <p>The negative value indicates the tractive force acts down the plane (braking).</p>
                            </div>
                        </div>
                        <div class="step final-answer">
                            <button class="step-toggle">Final Answer <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p><strong>Deceleration = 3.73 m/s²</strong></p>
                                <p><strong>Tractive force = 448 N (acting as a braking force)</strong></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="problem-card">
                <div class="problem-header">
                    <span class="problem-number">Problem 3</span>
                    <span class="problem-topic">Momentum - Collision</span>
                </div>
                <div class="problem-body">
                    <p class="problem-text">A 2000 kg truck moving at 15 m/s collides with a 1000 kg car moving at 10 m/s in the same direction. If they stick together after the collision, find their final velocity.</p>
                    
                    <div class="guided-steps">
                        <div class="step" data-step="1">
                            <button class="step-toggle">Step 1: Identify known values <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <ul>
                                    <li>Mass of truck, \(m_1 = 2000\) kg</li>
                                    <li>Velocity of truck, \(u_1 = 15\) m/s</li>
                                    <li>Mass of car, \(m_2 = 1000\) kg</li>
                                    <li>Velocity of car, \(u_2 = 10\) m/s</li>
                                </ul>
                            </div>
                        </div>
                        <div class="step" data-step="2">
                            <button class="step-toggle">Step 2: Apply conservation of momentum <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p>Total momentum before = Total momentum after</p>
                                <p class="equation">\(m_1u_1 + m_2u_2 = (m_1 + m_2)v\)</p>
                            </div>
                        </div>
                        <div class="step" data-step="3">
                            <button class="step-toggle">Step 3: Calculate initial momentum <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p class="equation">\(p_{initial} = 2000 \times 15 + 1000 \times 10\)</p>
                                <p class="equation">\(p_{initial} = 30000 + 10000 = 40000\) kg·m/s</p>
                            </div>
                        </div>
                        <div class="step" data-step="4">
                            <button class="step-toggle">Step 4: Solve for final velocity <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p class="equation">\(40000 = (2000 + 1000) \times v\)</p>
                                <p class="equation">\(v = \frac{40000}{3000} = 13.33\) m/s</p>
                            </div>
                        </div>
                        <div class="step final-answer">
                            <button class="step-toggle">Final Answer <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p><strong>Final velocity = 13.33 m/s (or 40/3 m/s)</strong></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="problem-card">
                <div class="problem-header">
                    <span class="problem-number">Problem 4</span>
                    <span class="problem-topic">Calculus of Motion</span>
                </div>
                <div class="problem-body">
                    <p class="problem-text">The motion of a particle is given by \(x = t^3 - 5t^2 + 4\). Find: (a) an expression for velocity, (b) the initial position and velocity, (c) the time and position when velocity is zero.</p>
                    
                    <div class="guided-steps">
                        <div class="step" data-step="1">
                            <button class="step-toggle">Step 1: Find velocity by differentiation <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p>Velocity is the rate of change of displacement:</p>
                                <p class="equation">\(v = \frac{dx}{dt} = \frac{d}{dt}(t^3 - 5t^2 + 4)\)</p>
                                <p class="equation">\(v = 3t^2 - 10t\)</p>
                            </div>
                        </div>
                        <div class="step" data-step="2">
                            <button class="step-toggle">Step 2: Find initial position and velocity <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p>At \(t = 0\):</p>
                                <p class="equation">\(x_0 = 0^3 - 5(0)^2 + 4 = 4\) m</p>
                                <p class="equation">\(v_0 = 3(0)^2 - 10(0) = 0\) m/s</p>
                            </div>
                        </div>
                        <div class="step" data-step="3">
                            <button class="step-toggle">Step 3: Find when velocity is zero <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p>Set \(v = 0\):</p>
                                <p class="equation">\(3t^2 - 10t = 0\)</p>
                                <p class="equation">\(t(3t - 10) = 0\)</p>
                                <p class="equation">\(t = 0\) or \(t = \frac{10}{3}\) seconds</p>
                            </div>
                        </div>
                        <div class="step" data-step="4">
                            <button class="step-toggle">Step 4: Find position when v = 0 <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p>At \(t = \frac{10}{3}\):</p>
                                <p class="equation">\(x = \left(\frac{10}{3}\right)^3 - 5\left(\frac{10}{3}\right)^2 + 4\)</p>
                                <p class="equation">\(x = \frac{1000}{27} - \frac{500}{9} + 4\)</p>
                                <p class="equation">\(x = \frac{1000}{27} - \frac{1500}{27} + \frac{108}{27}\)</p>
                                <p class="equation">\(x = \frac{-392}{27} \approx -14.52\) m</p>
                            </div>
                        </div>
                        <div class="step final-answer">
                            <button class="step-toggle">Final Answer <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p><strong>(a) \(v = 3t^2 - 10t\) m/s</strong></p>
                                <p><strong>(b) Initial position = 4 m, Initial velocity = 0 m/s</strong></p>
                                <p><strong>(c) At \(t = 10/3\) s, position = -14.52 m</strong></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="problem-card">
                <div class="problem-header">
                    <span class="problem-number">Problem 5</span>
                    <span class="problem-topic">Impulse and Force</span>
                </div>
                <div class="problem-body">
                    <p class="problem-text">A 1200 kg car moving at 25 m/s crashes into a barrier and stops in 0.5 seconds. Calculate: (a) the impulse on the car, (b) the average force exerted by the barrier.</p>
                    
                    <div class="guided-steps">
                        <div class="step" data-step="1">
                            <button class="step-toggle">Step 1: Understand impulse <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p>Impulse is the change in momentum:</p>
                                <p class="equation">\(J = \Delta p = mv - mu = m(v - u)\)</p>
                            </div>
                        </div>
                        <div class="step" data-step="2">
                            <button class="step-toggle">Step 2: Calculate impulse <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p class="equation">\(J = 1200 \times (0 - 25)\)</p>
                                <p class="equation">\(J = -30000\) N·s (or kg·m/s)</p>
                                <p>The magnitude of impulse is 30000 N·s</p>
                            </div>
                        </div>
                        <div class="step" data-step="3">
                            <button class="step-toggle">Step 3: Calculate average force <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p>Impulse = Force × Time</p>
                                <p class="equation">\(J = F \times t\)</p>
                                <p class="equation">\(F = \frac{J}{t} = \frac{30000}{0.5} = 60000\) N</p>
                            </div>
                        </div>
                        <div class="step final-answer">
                            <button class="step-toggle">Final Answer <i class="fas fa-chevron-down"></i></button>
                            <div class="step-content">
                                <p><strong>(a) Impulse = 30000 N·s (magnitude)</strong></p>
                                <p><strong>(b) Average force = 60000 N = 60 kN</strong></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Independent Practice -->
        <div id="independent-problems" class="practice-content">
            <div class="problem-card interactive-problem">
                <div class="problem-header">
                    <span class="problem-number">Practice 1</span>
                    <span class="problem-topic">SUVAT Equations</span>
                </div>
                <div class="problem-body">
                    <p class="problem-text">A skier pushes off at the top of a slope with an initial speed of 2 m/s. She gains speed at a constant rate throughout her run. After 10 s she is moving at 6 m/s. Find an expression for her speed t seconds after she pushes off.</p>
                    <div class="answer-section">
                        <textarea id="practice1-answer" placeholder="Enter your solution here..." rows="4"></textarea>
                        <button class="btn btn-primary check-answer" data-problem="1">Check with AI Tutor</button>
                        <div id="practice1-feedback" class="feedback-box"></div>
                    </div>
                </div>
            </div>

            <div class="problem-card interactive-problem">
                <div class="problem-header">
                    <span class="problem-number">Practice 2</span>
                    <span class="problem-topic">Forces</span>
                </div>
                <div class="problem-body">
                    <p class="problem-text">A small block of mass 5 kg is pulled along a rough horizontal plane by a string inclined at 60° to the plane. There is a frictional force of 18 N. If the block has an acceleration of 3 m/s², find the tension in the string.</p>
                    <div class="answer-section">
                        <textarea id="practice2-answer" placeholder="Enter your solution here..." rows="4"></textarea>
                        <button class="btn btn-primary check-answer" data-problem="2">Check with AI Tutor</button>
                        <div id="practice2-feedback" class="feedback-box"></div>
                    </div>
                </div>
            </div>

            <div class="problem-card interactive-problem">
                <div class="problem-header">
                    <span class="problem-number">Practice 3</span>
                    <span class="problem-topic">Momentum</span>
                </div>
                <div class="problem-body">
                    <p class="problem-text">A truck of mass 1200 kg is traveling at 4 m/s when it hits a buffer and is brought to rest in 3 seconds. What is the average force exerted by the buffer?</p>
                    <div class="answer-section">
                        <textarea id="practice3-answer" placeholder="Enter your solution here..." rows="4"></textarea>
                        <button class="btn btn-primary check-answer" data-problem="3">Check with AI Tutor</button>
                        <div id="practice3-feedback" class="feedback-box"></div>
                    </div>
                </div>
            </div>

            <div class="problem-card interactive-problem">
                <div class="problem-header">
                    <span class="problem-number">Practice 4</span>
                    <span class="problem-topic">Differential Equations</span>
                </div>
                <div class="problem-body">
                    <p class="problem-text">During braking, the speed of a car is modeled by \(v = 40 - 2t^2\) until it stops moving. How long does the car take to stop? How far does it move before it stops?</p>
                    <div class="answer-section">
                        <textarea id="practice4-answer" placeholder="Enter your solution here..." rows="4"></textarea>
                        <button class="btn btn-primary check-answer" data-problem="4">Check with AI Tutor</button>
                        <div id="practice4-feedback" class="feedback-box"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Exam Style Problems -->
        <div id="exam-problems" class="practice-content">
            <div class="problem-card exam-style">
                <div class="problem-header">
                    <span class="problem-number">Exam Question 1</span>
                    <span class="problem-marks">[25 marks]</span>
                </div>
                <div class="problem-body">
                    <p class="problem-text"><strong>(a)</strong> A vehicle with a mass of 6000 kg is travelling along a straight road with a velocity of 2.5 m/s. It collides with another vehicle with a mass of 2000 kg, which is moving in the same direction with a velocity of 1.3 m/s.</p>
                    <p class="problem-text">If after impact the vehicles fuse and move as a single unit, calculate:</p>
                    <p class="sub-question">(i) the kinetic energy after impact [7 marks]</p>
                    <p class="sub-question">(ii) the distance required to bring the vehicle to rest if a braking force of 1000 N is applied immediately after the impact [5 marks]</p>
                    <p class="sub-question">(iii) the time required to bring the vehicle to rest if a braking force of 1000 N is applied immediately after the impact [3 marks]</p>
                    
                    <div class="answer-section">
                        <textarea id="exam1-answer" placeholder="Enter your complete solution here..." rows="8"></textarea>
                        <button class="btn btn-primary check-answer" data-problem="exam1">Submit for AI Grading</button>
                        <div id="exam1-feedback" class="feedback-box"></div>
                    </div>
                </div>
            </div>

            <div class="problem-card exam-style">
                <div class="problem-header">
                    <span class="problem-number">Exam Question 2</span>
                    <span class="problem-marks">[25 marks]</span>
                </div>
                <div class="problem-body">
                    <p class="problem-text"><strong>(a)</strong> An elevator starts from rest with a constant acceleration of 2 m/s² until it attains a speed of 4 m/s. Thereafter, it immediately begins to slow down, with a constant retardation of 3 m/s² until it is brought to rest.</p>
                    <p class="sub-question">(i) Calculate the total time for the distance travelled. [5 marks]</p>
                    <p class="sub-question">(ii) Calculate the total distance travelled. [2 marks]</p>
                    
                    <p class="problem-text" style="margin-top: 20px;"><strong>(b)</strong> A particle is projected from a fixed point with a velocity of 100 m/s at an angle of 30° to the horizontal.</p>
                    <p class="sub-question">(i) Calculate the GREATEST height reached by the particle. [2 marks]</p>
                    <p class="sub-question">(ii) Calculate the horizontal range of the particle. [2 marks]</p>
                    
                    <div class="answer-section">
                        <textarea id="exam2-answer" placeholder="Enter your complete solution here..." rows="8"></textarea>
                        <button class="btn btn-primary check-answer" data-problem="exam2">Submit for AI Grading</button>
                        <div id="exam2-feedback" class="feedback-box"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Tutor Section -->
    <section id="ai-tutor" class="ai-tutor-section">
        <h2>AI Tutor</h2>
        <div class="ai-container">
            <div class="ai-info">
                <div class="ai-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <h3>Your Personal Math Tutor</h3>
                <p>Ask questions about kinematics, dynamics, or any problem you're stuck on. I'll guide you through the solution step by step!</p>
            </div>
            <div class="chat-container">
                <div id="chat-messages" class="chat-messages">
                    <div class="message ai-message">
                        <div class="message-avatar"><i class="fas fa-robot"></i></div>
                        <div class="message-content">
                            <p>Hello! I'm your CAPE Applied Mathematics tutor. I can help you with:</p>
                            <ul>
                                <li>Understanding kinematics concepts</li>
                                <li>Solving SUVAT problems</li>
                                <li>Newton's Laws applications</li>
                                <li>Momentum and collision problems</li>
                                <li>Differential equations in motion</li>
                            </ul>
                            <p>What would you like to learn about today?</p>
                        </div>
                    </div>
                </div>
                <div class="chat-input-container">
                    <textarea id="user-input" placeholder="Type your question here..." rows="2"></textarea>
                    <button id="send-btn" class="btn btn-primary">
                        <i class="fas fa-paper-plane"></i> Send
                    </button>
                </div>
            </div>
            <div class="quick-questions">
                <h4>Quick Questions:</h4>
                <button class="quick-btn" data-question="Explain the difference between distance and displacement">Distance vs Displacement</button>
                <button class="quick-btn" data-question="What are the SUVAT equations and when do I use each one?">SUVAT Equations</button>
                <button class="quick-btn" data-question="How do I find displacement from a velocity-time graph?">Area Under v-t Graph</button>
                <button class="quick-btn" data-question="Explain conservation of momentum with an example">Conservation of Momentum</button>
                <button class="quick-btn" data-question="How do I solve problems involving inclined planes?">Inclined Plane Problems</button>
            </div>
        </div>
    </section>

    <!-- Formula Reference -->
    <section id="formulas" class="formulas-section">
        <h2>Formula Reference</h2>
        <div class="formula-cards">
            <div class="formula-card">
                <h3>SUVAT Equations</h3>
                <div class="formula-list">
                    <p>\(v = u + at\)</p>
                    <p>\(s = ut + \frac{1}{2}at^2\)</p>
                    <p>\(s = vt - \frac{1}{2}at^2\)</p>
                    <p>\(v^2 = u^2 + 2as\)</p>
                    <p>\(s = \frac{(u + v)t}{2}\)</p>
                </div>
            </div>
            <div class="formula-card">
                <h3>Newton's Laws</h3>
                <div class="formula-list">
                    <p>\(F = ma\)</p>
                    <p>\(W = mg\)</p>
                    <p>Friction: \(F_f = \mu R\)</p>
                    <p>Inclined plane: \(mg\sin\theta\)</p>
                </div>
            </div>
            <div class="formula-card">
                <h3>Momentum & Impulse</h3>
                <div class="formula-list">
                    <p>\(p = mv\)</p>
                    <p>\(J = \Delta p = mv - mu\)</p>
                    <p>\(J = Ft\)</p>
                    <p>Conservation: \(m_1u_1 + m_2u_2 = m_1v_1 + m_2v_2\)</p>
                </div>
            </div>
            <div class="formula-card">
                <h3>Calculus Relations</h3>
                <div class="formula-list">
                    <p>\(v = \frac{dx}{dt}\)</p>
                    <p>\(a = \frac{dv}{dt} = \frac{d^2x}{dt^2}\)</p>
                    <p>\(a = v\frac{dv}{dx}\)</p>
                    <p>\(x = \int v \, dt\)</p>
                </div>
            </div>
            <div class="formula-card">
                <h3>Projectile Motion</h3>
                <div class="formula-list">
                    <p>Horizontal: \(x = v\cos\theta \cdot t\)</p>
                    <p>Vertical: \(y = v\sin\theta \cdot t - \frac{1}{2}gt^2\)</p>
                    <p>Max height: \(H = \frac{v^2\sin^2\theta}{2g}\)</p>
                    <p>Range: \(R = \frac{v^2\sin 2\theta}{g}\)</p>
                </div>
            </div>
            <div class="formula-card">
                <h3>Energy & Work</h3>
                <div class="formula-list">
                    <p>KE: \(\frac{1}{2}mv^2\)</p>
                    <p>PE: \(mgh\)</p>
                    <p>Work: \(W = Fs\cos\theta\)</p>
                    <p>Power: \(P = \frac{W}{t} = Fv\)</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2025 CAPE Applied Mathematics Unit 2 Learning Resource</p>
            <p>Designed for Caribbean Advanced Proficiency Examination Students</p>
        </div>
    </footer>

    <script src="app.js"></script>
</body>
</html>
